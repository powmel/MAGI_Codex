---
description: コマンド「適切なgitコミットメッセージを生成してcommitする」
---

# docs/development-workflows/create-git-commit.md

## 指示

変更内容に基づいて適切な git commit メッセージを生成し、commit してください

## 文脈情報

このドキュメントは、変更内容に基づいて適切なgitコミットメッセージを生成し、commitするためのガイドラインです。

## ルール

- 変更内容は、git add したもの、git diff --staged で確認できるものを対象としてください
- コミットメッセージは変更内容を正確に反映すること
- 複数の変更がある場合は、可能な限り個別のコミットに分割すること
- タイプと説明の間は半角コロンとスペース（`: `）で区切ること
- スコープは必要に応じて使用し、必須ではない
- コミットメッセージは最小限に抑えること

## 手順

1. git status --short --untracked-files で、変更したファイルを確認する
2. 変更したファイルがある場合、`git diff --staged` を分析してタイプを決定する
3. 影響範囲に応じてスコープを設定する
4. `git diff --staged` の変更内容を簡潔に説明文に記述する
5. 必要に応じて本文とフッターを追加する
6. コミットメッセージを生成する
7. コミットメッセージを生成したら、そのまま git commit を実行してください（破壊的変更・セキュリティ影響・課金発生がある場合のみ事前確認）。
8. git commit を実行してください。

## 出力形式

### コミットメッセージの形式

```
<type>(<scope>): <description>

[optional body]

[optional footer]
```

### タイプ（Type）

#### 機能関連
- `feat`: 新機能の追加
- `add`: 新しいファイルや機能の追加
- `update`: 既存機能の更新
- `change`: 仕様変更による修正
- `improve`: コードの改善
- `perf`: パフォーマンスの改善

#### 修正関連
- `fix`: バグ修正
- `hotfix`: 緊急の修正
- `clean/refactor`: コードのリファクタリング
- `style`: コーディングスタイルの修正

#### 削除・無効化関連
- `disable`: 機能の一時的な無効化
- `remove/delete`: 機能やファイルの削除

#### ファイル操作関連
- `rename`: ファイル名の変更
- `move`: ファイルの移動

#### その他
- `docs`: ドキュメントの更新
- `test`: テストコードの追加・修正
- `chore`: ビルドプロセスやツールの変更
- `upgrade`: 依存関係のアップグレード
- `revert`: 以前のコミットの取り消し

### スコープ（Scope）

変更が影響する範囲を指定します。例：
- `(auth)`: 認証関連の変更
- `(api)`: API関連の変更
- `(ui)`: UIコンポーネントの変更
- `(db)`: データベース関連の変更

### 説明（Description）

変更内容を簡潔に説明します：
- 命令形で記述（例：「追加する」ではなく「追加」）
- 日本語で記述
- 50文字以内を推奨

### 本文（Body）

必要に応じて、変更の詳細な説明を追加します：
- 変更の理由
- 変更による影響
- 関連するIssue番号

### フッター（Footer）

必要に応じて、以下の情報を追加します：
- 関連するIssue番号（`Closes #123`）
- 破壊的変更の説明（`BREAKING CHANGE:`）

## 入力データ

変更されたファイルの内容と変更の性質

## 入出力例 (Few-shots)

```
feat(auth): 二要素認証の実装

- Google Authenticatorによる認証を追加
- バックアップコードの生成機能を実装

Closes #123
```

```
fix(api): ユーザー情報取得APIのエラーハンドリング修正

- 存在しないユーザーIDの場合のエラーレスポンスを修正
- エラーメッセージの日本語化

Fixes #456
```

```
chore: 依存パッケージのアップデート

- next.jsを16.xにアップデート
- typescriptを5.xにアップデート
```

## 注意点

- ユーザが git add しているので、git add は禁止です
- 実行後、commit が出力形式に従っているかを確認してください
- 分からない場合は、分からないとしてください
